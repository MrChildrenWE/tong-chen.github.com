---
title: 在线画图
author: ct
layout: post
categories:
  - Bioinfo
tags:
  - Bioinfo
---

十一之前，出了一期画图专辑：[好色之旅-画图三字经](https://mp.weixin.qq.com/s/bsvB1k17Izom2ldgdwXrdg)简洁明快地总结了生信宝典推出的一些列画图相关文章，包括多种形式的热图、线图、柱状图、箱线图、泡泡图、韦恩图、进化树、火山图、生存分析等（为了之前的文笔，这次就不一个个加链接了，直接从上面点进去看，还有美女相赠），这些都是基于R代码或简便封装的R脚本。另外还有`Cytoscape`和其它作图工具以及图形排版的介绍，是在家作图出门收藏的必备良策。

代码很简单，封装很方便，但在使用时还是有不少朋友遇到不少问题，那么有没有办法不写代码就可以直接出图，并且既简单易用，又可定制，还能得到矢量图。

神器来了，生信宝典团队开发的在线绘图工具`EasyChart`开始面向大家公测了。

### 图形支持

设计有生信分析常见的`14`种图，开始公测的有3种，线图、泡泡图和热图。

![](http://blog.genesino.com/images/imageGP/easyChart_list.png)

### 整体界面

初进入是网站展示和图形Demo界面，贴心的提供了R中支持的颜色的名字和代码，方便绘图时查询使用。每个Demo图点击都可进入绘图页面。

![](http://blog.genesino.com/images/imageGP/easyChart_nav.png)

### 数据格式

输入数据格式根据绘图需要支持两种格式，`Wide format`和`Long format`。

`Wide format`每一列为一个变量，更像常见的基因表达数据，比如每一行为一个基因，每一列为一个样品，适合于中规中矩的矩阵，可读性好。

`Long format`，最简单的格式是两列，一列包含所有变量类型，如前面提到的样品，一列包含所有值。常见的基因表达矩阵从`Wide format`转换为`Long format`后有三列，一列为`GeneID`, 一列为样品名字，再一列(通常为`value`)列为基因表达值，表示对应基因在对应样品的表达量。这种格式方便程序处理，也适合不规则数据。

![](http://blog.genesino.com/images/imageGP/easyChart_data.png)

### 绘图布局

绘图页面如下，提供数据和必选参数就可提交了。如果想更多调整布局和增加元素，再看对应版块针对性修改。

![](http://blog.genesino.com/images/imageGP/easyChart_line.png)

### 线图

线图支持2种输入格式，基因表达趋势图使用常见的`Wide format`，只是样品为行，基因为列，在`Excel`中可以很轻松转置；如果有需要，后期也会提供在线处理功能。

`Wide format`没有必填项，输入数据后，直接点击`Plot`就可以出图了。

![](http://www.ehbio.com/ImageGP/Public/assets/images/Line_1.png)

再复杂一点，增加标题、X-轴、Y-轴标题，调整图例位置和X轴旋转，就得到了右边的图。(黄色字体为对应参数，绿色字体为参数设置的值)

![](http://www.ehbio.com/ImageGP/Public/assets/images/Line_2.png)

线图还支持长表格格式，需要特别注意的是`value`列是必须的，而且列的名字必须是`value`。这种格式下有必填项需要指定哪一列作为X轴`X-axis variable`和哪一列做分组信息(图例信息)`Legend variable`，同时需要指定X轴是数值类型(`Continuous`)还是字符串类型`Discrete` (数字可以做为数值处理，也可以作为字符串处理，根据图形意义的需要来选择)。然后就可以点击`Plot`出图了。

![](http://www.ehbio.com/ImageGP/Public/assets/images/Line_3.png)

这个图还可以继续美化，比如增加垂线标记启动子区域，横轴改为生物含义的标示，线在不违反趋势的条件下更圆润一些，更改线的颜色和排列顺序等。注意使用到的符号为英文符号，颜色可以是名字(见首页颜色表)，也可以是颜色代码(颜色参数旁边有个调色板，可获取颜色代码，写入颜色设置框中)。

![](http://www.ehbio.com/ImageGP/Public/assets/images/Line_4.png)

### 富集分析泡泡图

### 热图
